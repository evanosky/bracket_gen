<h1>Bracket Results (<%= @isValid %>)</h1>

<% uiRows = @teams.length * 4%>

<div id="BracketGen">

<% uiLastRoundIndex = @rounds.length-1 %>
<% for uiRoundIndex in 0.upto(uiLastRoundIndex) %>
	
	<%= render :partial => "round", :locals => {
		:rounds => @rounds,
		:champ => @champ,
		:uiTeamIndex => 0,
		:uiRoundIndex => uiRoundIndex,
		:bLastRound => uiRoundIndex == uiLastRoundIndex,
		:bFromLeft => true,
		:uiRowsToDo => uiRows/2-1} %>

<% end %>

<% uiLastRoundIndex = @rounds.length-2 %>
<% for uiRoundIndex in uiLastRoundIndex.downto(0) %>

	<%= render :partial => "round", :locals => {
		:rounds => @rounds,
		:champ => @champ,
		:uiTeamIndex => @rounds[uiRoundIndex].length / 2,
		:uiRoundIndex => uiRoundIndex,
		:bLastRound => false,
		:bFromLeft => false,
		:uiRowsToDo => uiRows/2-1} %>

<% end %>

</div>

